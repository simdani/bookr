<% include ../partials/head %>

<a href="/books" class="btn btn-secondary mb-3">Back</a>

<div class="card card-body home-color">
  <h3>Edit your book</h3>
  <form action="/books/<%= book.id %>?_method=PUT" method="POST">
    <div class="form-group">
      <label for="title">Title</label>
      <input type="text" class="form-control" name="title" value="<%= book.title %>" required>
    </div>
    <div class="form-group">
      <label for="author">Author</label>
      <input type="text" class="form-control" name="author" value="<%= book.author %>" required>
    </div>
    <div class="form-group">
        <label for="status">Update book status</label>
        <select class="form-control col-md-4" name="status">
          <% if (book.status === "reading") { %>
            <option value="reading" selected>reading</option>
            <option value="completed">completed</option>
          <% } else if (book.status === "not started") { %>
            <option value="not started" selected>not started</option>
            <option value="reading">reading</option>
            <option value="completed">completed</option>
          <% } else { %>
            <option value="completed" selected>completed</option>
          <% } %>
        </select>
      </div>
    <div class="form-group">
      <label for="currentPage">Current page</label>
      <input type="number" class="form-control" name="currentPage" value="<%= book.currentPage %>" required>
    </div>
    <div class="form-group">
      <label for="pages">Total pages</label>
      <input type="number" class="form-control" name="pages" value="<%= book.pages %>" required>
    </div>
    <div class="form-group">
      <label for="details">Details</label>
      <textarea class="form-control" name="details" required><%= book.details %></textarea>
    </div>
    <button type="submit" class="btn btn-secondary">Update</button>
  </form>
</div>

<% include ../partials/footer %>